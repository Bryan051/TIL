## 현 프로젝트에서 N + 1

- N+1 문제는 현 프로젝트에서 batch 동작을 진행할 때 문제가 될 것으로 보였다.</br>
  페이징으로 끊어서 가져와 문제가 생기지 않을것이라 생각했지만 본질적인 N+1 이 해결되지 않은 상태였다.</br>
  현재 작동방식은,
  1.	먼저 N개의 Video 엔티티를 불러온다.
  2.	각 Video에 대해 추가적인 쿼리를 실행하여 관련된 VideoView 데이터를 가져온다.

- 이렇게 되면 N개의 Video를 불러오는 1개의 쿼리와, 각 Video에 대해 VideoView를 조회하는 N개의 쿼리가 실행되기 때문에</br>
  결과적으로 총 N+1개의 쿼리가 실행되므로 성능에 문제가 발생할 수 있다.

- 페이징과 N+1 문제의 관계
  - 페이징 적용:
    - 페이징을 사용하여 예를 들어 10개의 Video를 한 번에 가져온다면, 처음에는 10개의 Video를 가져오는 1개의 쿼리가 실행된다.
    -	이후 각 Video에 대해 관련된 VideoView를 가져오는 10개의 쿼리가 실행된다.
    -	결국, 한 페이지 당 총 11개의 쿼리가 실행된다.
  -	N+1 문제:</br>
    - 페이징으로 인해 N의 크기가 줄어들지만, 페이지 수만큼의 쿼리가 계속해서 실행된다.
    - 현재 1000개의 Video가 있고 페이지 크기가 10이라면, 총 100개의 페이지가 필요하다.
    -  각 페이지 당 11개의 쿼리가 실행되므로, 총 1100개의 쿼리가 실행된다.

- 따라서, 페이징을 적용해도 N+1 문제는 크기만 줄어들 뿐 본질적으로 해결되지 않는다. 
- 각 페이지에 대해 추가적인 N개의 쿼리가 계속해서 실행되기 때문에, 여전히 성능에 영향을 미칠 수 있다.
